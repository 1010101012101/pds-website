<html>
<head><title>Voyager UVS TUTORIAL.TXT</title></head>

<body
bgcolor="#ffffff"
>
<center><h1>
Voyager UVS TUTORIAL.TXT
</h1></center>
Return to <a href="index.html">UVS data set page</a>.
<hr>
<pre>
PDS_VERSION_ID                  = PDS3
RECORD_TYPE                     = STREAM

DATA_SET_ID                     = "VG1/VG2-SR/UR/NR-UVS-2/4-OCC-V1.0"

OBJECT                          = TEXT
  PUBLICATION_DATE              = 2003-12-31
  AUTHOR_FULL_NAME              = "MARK R. SHOWALTER"
  NOTE                          = "Voyager UVS Ring Occultation
Data Set Tutorial"
END_OBJECT                      = TEXT
END

           Voyager UVS Ring Occultation Data Set Tutorial
           ==============================================

This document provides a tutorial on how to make optimal use of this
data set. It is organized as follows:
    1. Data Set Overview
    2. Directory Structure
    3. File Names
    4. File Formats
    5. PDS Labels
    6. Voyager UVS Overview
    7. Processing Guidelines
    8. References

1. Data Set Overview
====================

This data set contains stellar occultation data obtained by the
Voyager Ultraviolet Spectrometers (UVS). It includes ring occultation
profiles from Saturn, Uranus and Neptune. It does not include other
types of data obtained by the Voyager UVS.

The specific ring occultation experiments carried out by UVS are:

----------------------------------------------------------------------
ID   Planet  Vgr  Star       Direction   Comments
----------------------------------------------------------------------
US3  Saturn   1   iota Her    egress     Inner C Ring.
US2  Saturn   2   delta Sco   ingress    Inner C Ring.
US1  Saturn   2   delta Sco   egress     Entire ring system.
UU1  Uranus   2   sigma Sgr   both       Delta, Lambda & Epsilon only.
UU2  Uranus   2   beta Per    both       All rings.*
UN1  Neptune  2   sigma Sgr   ingress    All rings.
----------------------------------------------------------------------

*Unfortunately, the Uranus beta Per occultation data was dominated by
the Uranian charged particle background. As a result, the rings are
not detectable.

2. Directory Structure
======================

This volume contains a large variety of files, preserving the UVS data
at various levels of processing. Also included are ancillary files
related to the geometry and calibration of the observations.

The files in this data set fit into several general categories and are
grouped into directories as follows:

-------------------------------------------------------------------
Category                       Directories
-------------------------------------------------------------------
Derived ring profiles          EASYDATA
Primary data/ancillary files   EDITDATA, GEOMETRY, CALIB
Supplementary geometry         SPICE, VECTORS
Processing history files       SORCDATA, RAWDATA, NOISDATA, TRAJECT
Support files                  IMAGES
Documentation                  DOCUMENT, CATALOG, INDEX
Software tools                 SOFTWARE
-------------------------------------------------------------------

2.1 Derived Ring Profiles
-------------------------

EASYDATA - This directory contains easy-to-use derived ASCII profiles
tabulating ring opacity and its uncertainty vs. radial location in a
ring system. Files are included at a variety of radial resolutions:
0.2, 0.5, 1, 2, 5, 10, 20 and 50 km per sample. Because the rings of
Uranus are narrow and inclined, separate profiles are provided for
each Uranian ring.

Also provided are calibrated ring profiles that have been smoothed to
lower resolution but have not been re-sampled onto a uniform radial
grid. These files may be preferable for some purposes because
individual samples in these data sets are completely uncorrelated.

For users who wish to make plots of ring opacity without worrying
about the many subtle issues relating to calibration, geometry, and
sensitivity of the UVS data, this directory is the place to look. The
data are suitable for most theoretical analyses and for comparison
with other data sets.

2.2 Edited Raw Data and Simplified Ancillary Data Files
-------------------------------------------------------

EDITDATA - We recommended that users needing access to the raw UVS
samples refer to the EDITDATA directory. This directory contains
edited versions of the raw data, converted to a common, easy-to-use
binary format. The Rings Node has carefully processed these files so
that they have the following properties: (1) each data file contains a
continuous, uniformly-spaced time-series of UVS samples; and (2)
invalid and missing data samples have been flagged.

Edited data files come in two forms. Edited spectra retain the full
wavelength dependence of the original data. Summed spectra have had
all the wavelength information lost, but have the advantages of higher
signal-to-noise ratio and smaller file size. Both are indexed by a
parameter called UVS_SPECTRUM_INDEX, which can be use to identify the
data associated with a particular instant in any of the experiments.

Two other directories contain ancillary data files to support the
analysis of the edited data files. In both cases, the files contain
ASCII files that tabulate information about the occultation at times
that match the data records in the corresponding edited data file.

GEOMETRY - Files in this directory tabulate the ring intercept
geometry (ring intercept time, radius, and longitude).

CALIB - Files in this directory tabulate models for the stellar and
background photon count rates during each occultation. Using this
information, estimates of ring opacity can be derived.

These files are uniformly sampled in the same index variable,
UVS_SPECTRUM_INDEX. This makes it possible to quickly look up the
parameters associated with a given UVS spectrum. These files are
sampled somewhat less frequently than the data files, so some
interpolation may be required.

Over the years, several investigators have arrived at different
solutions for the geometry (and perhaps calibration) during the UVS
experiments. Because of this, the Rings Node has provided multiple
versions of these files for many occultations. Our own models for
occultation geometry and calibration are also included.

2.3 Supplemental Geometry Files
-------------------------------

VECTORS - Files in this set of subdirectories provide 4-vectors (time
and position) for the photon's crossing of the ring plane and then for
its arrival at Voyager. All are given relative to the center of the
planet. These files are sampled uniformly in the same
UVS_SPECTRUM_INDEX as the files above. You can use these files to
derive additional geometry parameters beyond those tabulated in the
standard GEOMETRY files.

Note that these 4-vectors are given in a large number of different
coordinate systems:

  (1) Celestial coordinates (B1950 and J2000)

  (2) Equator plane coordinates, in which the Z-axis points normal
  along the planet's rotation pole and the X-axis is the ascending
  node of Earth's equator for either B1950 or J2000.

  (3) Ring plane coordinates, which differ from equator plane
  coordinates for rings that are inclined.

  (4) Ring anomaly coordinates, which differ from ring plane
  coordinates in that X-axis points to the ring's pericenter for
  eccentric rings.

SPICE - SPICE files contain the ephemerides of the planet and its
major satellites, plus the Earth, Moon and Sun, during the Voyager
encounters. Users familiar with the SPICE toolkit can use these files
to generate just about any other piece of geometric information
relevant to the occultation experiments. See 
      http://pds.jpl.nasa.gov/naif.html
for more information about the SPICE software toolkit.

2.4 Processing History Files
----------------------------

The Rings Node has obtained data from a variety of sources and in a
variety of formats. Our work has involved extensive re-formatting to
simplify the use of this data set, as well as some actual editing to
identify questionable data samples. We have provided the data in less
processed formats to document our own processing, to support users who
might wish to "second guess" our processing, and also to support those
investigators who might already be familiar with the data in a
different format. 

SORCDATA - This directory contains "source" data files exactly as they
were received by the Rings Node. The file formats are complex but
fully documented. In some cases they contain ancillary information
that has not been preserved in the EDITDATA files. 

RAWDATA - Files in this directory contain essentially the same data as
are found in the SORCDATA directory, but with some time tags and
samples corrected.

NOISDATA - This directory contains a set of binary data files
identical in format to those found in the EDITDATA directory. However,
in these files the known rings of Uranus and Neptune have been
removed. These were generated by the Rings Node and were used for
fitting some calibration models. 

TRAJECT - These files tabulate spacecraft position from the center of
the planet, vs. time. Positions are provided in B1950 and J2000
coordinates. These files record the trajectory model from which all
other geometric quantities in this data set have been derived.

2.5 Support Files
-----------------

The Rings Node has gathered a number of additional files to support
more detailed investigations of the UVS ring occultation experiments. 

IMAGES - This directory contains Voyager images obtained during the
ring occultation experiments, which can be used for more detailed
pointing reconstructions. 

2.6 Documentation
-----------------

Several additional directories contain documentation associated with
this data set. These are directories are required by PDS standards.

DOCUMENT - This directory contains a variety of documents associated
with the UVS experiments. This directory also contains subdirectories
named CALIB, EDITDATA, GEOMETRY, RAWDATA, and SORCDATA, which contain
programs and intermediate data files developed at the Rings Node for
the production of the files found in the associated root-level
directories. These files are provided for documentation purposes only
and are not otherwise supported.

CATALOG - This directory contains the PDS "Catalog Objects" providing
general information about the data set. The files are:

--------------------------------------------------------------------
File name      Topic
--------------------------------------------------------------------
DATASET.CAT    This data set.
DSCOLL.CAT     The data set collection---Voyager ring occultations.
MISSION.CAT    The overall Voyager mission.
PERSON.CAT     Personnel involved in the production of this data set
               (Rings Node staff & UVS team members).
REF.CAT        Bibliographic references.
SOFTWARE.CAT   Supported software tools.
VG1HOST.CAT    The Voyager 1 spacecraft.
VG1INST.CAT    The UVS instrument on Voyager 1.
VG2HOST.CAT    The Voyager 2 spacecraft.
VG2INST.CAT    The UVS instrument on Voyager 2.
--------------------------------------------------------------------

INDEX - This directory contains a tabulation of all the data files in
this data set.

2.7 Software Tools
------------------

SOFTWARE - This directory contains the source code for several
toolkits supporting the processing of this (and other) ring
occultation profiles. More information about these toolkits is found
below (Section 7.4).

This directory also contains two FORTRAN programs, UVSFILT.FOR and
UVSRESAM.FOR, which generate calibrated profiles given an edited data
file, geometry model and calibration model. These are the tools that
were used to populate the EASYDATA subdirectories.

3. File Names
=============

ISO-9660 Level 1 standards for CD-ROMs require that file names be a
maximum of eight characters, followed by an extension or type of up to
three characters.

3.1 File Extensions
-------------------

The major file types used on this volume are:

Binary files:
    Images                                  *.IMG
    Other binary data files                 *.DAT
    SPICE ephemeris files                   *.BSP
    Source data files                       *.VOY
    Adobe Acrobat documentation files       *.PDF
    Adobe Postscript documentation files    *.PS

ASCII text files:
    PDS labels                              *.LBL
    ASCII tables and indices                *.TAB
    PDS catalog files                       *.CAT
    Text documentation files                *.TXT, *.ASC
    Source code files                       *.C, *.H, *.FOR, *.INC,
                                            *.PRO, *.F1, *.C1, *.H1
    Software build scripts                  *.COM, *.MAK, *.DEF
    SPICE kernels                           *.TLS, *.TPC
    SPICE transfer ephemeris files          *.XSP
    Other files (for documentation only)    *.FDS, *.FIT, *.LOG, *.OUT

3.2 File Naming Conventions
---------------------------

Most of the supported data files provided on this volume are named
according to the following nomenclature:

Characters 1-3: Experiment indicator
    1st character: U for UVS.
    2nd character: S for Saturn; U for Uranus; N for Neptune.
    3rd character: 1-3, indicating a stellar occultation sequence
                   number at the given planet.

    Based on these rules, the following indicators have been used:
    US1 = Voyager 2 delta Sco egress occultation by Saturn's rings.
    US2 = Voyager 2 delta Sco ingress occultation by Saturn's C Ring.
    US3 = Voyager 1 iota Her occultation by Saturn's C Ring.
    UU1 = Voyager 2 sigma Sgr occultation by Uranus' outer rings.
    UU2 = Voyager 2 beta Per occultation by Uranus' rings.
    UN1 = Voyager 2 sigma Sgr occultation by Neptune's rings.

Character 4: File type
    C = calibration models.
    D = edited data consisting of spectral sums.
    F = filtered ring profiles.
    G = footprint geometry files.
    N = noise data.
    P = resampled ring profiles.
    R = raw data.
    T = trajectory files.
    V = vector geometry files.
    W = edited data consisting of full spectra.

Characters 5-6: Version number
    A two-digit number indicating the version number of the given file
    (using a leading zero if necessary). In general, the meaning of
    this number depends on the experiment and file type.

    As an exception, for vector geometry files, the fifth character
    identifies the coordinate system:
    C = celestial coordinates.
    E = planet equator coordinates.
    R = ring planet coordinates.
    A = ring anomaly coordinates.
    In this case, the sixth character still provides a 1-digit version
    number.

Characters 7-8: Supplemental
    These characters are only used when needed to further identify a
    file. They are used to distinguish rings, ingress vs. egress,
    coordinate frames, binary data formats, etc. These characters are
    explained in the *INFO.TXT file in each relevant subdirectory.

Source data files provided by other investigators appear on this
volume under their original names, or a close approximation to their
original names. 

Non-data files do not follow these conventions.

4. File Formats
===============

4.1 ASCII Text Files
--------------------

Different popular operating systems use different standards for how
ASCII text files are formatted. On Unix systems, lines are terminated
by a &gt;LF&lt; (linefeed character, control-J, ASCII 10). On Macintosh
computers, lines are terminated by a &gt;CR&lt; (carriage return character,
control-M, ASCII 13). On PCs, lines are terminated by a &gt;CR&lt;&gt;LF&lt; pair.
PDS standards require all text files to use &gt;CR&lt;&gt;LF&lt; line termination.
If the PDS label indicates INTERCHANGE_FORMAT = ASCII or RECORD_TYPE =
STREAM, then this line termination is in use.

On occasion, users on Unix and Macintosh computers may need to change
the line termination on some text files before they can use them. This
can be handled via text editors or a variety of utilities. For
example, the Unix tr (translate) command can be used to change
carriage returns to blanks:
    tr "\015" " " &gt;oldfile.txt &lt;newfile.txt

Note that some software tools provided with this data set could fail
if the extraneous &gt;CR&lt; characters are simply removed from ASCII-format
data files rather than being replaced by blanks; the reason is that
removing the &gt;CR&lt; changes the record lengths within the file, which
could make the file incompatible with its PDS label. 

4.2 Binary Data Files
---------------------

Binary data file formats differ among hardware platforms. Most binary
files are provided in these formats:

IEEE: For Sun, SGI and Macintosh platforms. Integers appear with most
significant byte first; floating-point numbers appear in IEEE format.

PC: For PC platforms. Integers appear with least significant byte
first; floating-point numbers appear in byte-reversed IEEE format.

Vax: For DEC (now HP) VMS platforms. Integers appear with least
significant byte first; floating-point numbers appear in Vax G format.
Although not widely used today, this is the platform on which most
Voyager data were originally used. Note that, for files containing
nothing but integers, the PC versions of files can be used.

Note that the software tools included in the SOFTWARE/PROFILE
subdirectory take care of all data conversions automatically.

5. PDS Labels
=============

5.1 Types of Labels
-------------------

On this volume, every file has a PDS label. Most are in the form of
detached labels, where the label corresponding to a given file has the
same name but an extension ".LBL". For example, the file US1D01P.DAT
is described by the label file US1D01P.LBL.

There are a few exceptions to this rule. Some text files (like this
one) have attached labels, meaning that the label information can be
found at the top of the actual file. These can be recognized by the
fact that the file ends with .TXT and there is no corresponding file
ending in .LBL. Information files *INFO.TXT that appear in most
directories and describe that directory's contents use this approach.

Finally, a few directories employ "combined-detached" labels, in which
a single label file describes most if not all the files in the
directory. In this case, the label file is given the same name as the
enclosing directory, with the .LBL extension. For example, the
directory DOCUMENT/EDITDATA/PROGRAMS contains a single
combined-detached label file PROGRAMS.LBL.

5.2 PDS Label Structure
-----------------------

PDS labels contain nothing but ASCII text and can be viewed using any
editor or word processor software. However labels have a very specific
format that can be read by humans and also (relatively) easily parsed
by computers. The PDS has developed toolkits called the Label Library
(L3) and the Object Access Library (OAL), which makes it easy to read,
manipulate and write PDS labels and the data files that they describe,
using programs written in C or FORTRAN. The directory SOFTWARE/OAL on
this volume contains the source code for both of these libraries. 

A PDS label consists of a sequence of expressions of the form "keyword
= value". These keywords are sometimes nested inside data objects,
indicated by "OBJECT = xxx" and terminated by "END_OBJECT = xxx".
These data objects describe specific components of the corresponding
data files. PDS objects can be nested; for example a PDS TABLE object
generally contains multiple COLUMN objects. Keywords inside the TABLE
object describe the overall properties of the table, and afterward the
keywords inside each COLUMN object describe one particular column. 

Here is an annotated example, excerpted from file
EASYDATA/KM010/US1P01.LBL, which describes the derived profile of
Saturn's ring system sampled at 10 km intervals. The file begins with
information about the structure of the data file: 

  PDS_VERSION_ID                = PDS3
  RECORD_TYPE                   = FIXED_LENGTH
  RECORD_BYTES                  = 51
  FILE_RECORDS                  = 6423
  ^SERIES                       = "US1P01.TAB"

This indicates that file US1P01.TAB is a FIXED_LENGTH file in which
each record contains 51 characters, INCLUDING the &gt;CR&lt;&gt;LF&lt; pair. The
file has 6423 records. Next come some general information that appears
in essentially every PDS-formatted data file:

  DATA_SET_ID                   = "VG1/VG2-SR/UR/NR-UVS-2/4-OCC-V1.0"
  RING_OBSERVATION_ID           = "S/OCC/VG2/UVS/1981-08-25/DELTA_SCO"
  PRODUCT_ID                    = "KM010/US1P01.TAB"
  PRODUCT_TYPE                  = RING_PROFILE
  PRODUCT_CREATION_TIME         = 2002-12-24T16:00:00
  SOURCE_PRODUCT_ID             = {"US1D02P.DAT",
                                   "US1G02.TAB",
                                   "US1C01.TAB"}

  SPACECRAFT_NAME               = "VOYAGER 2"
  SPACECRAFT_ID                 = VG2
  INSTRUMENT_NAME               = "ULTRAVIOLET SPECTROMETER"
  INSTRUMENT_ID                 = UVS
  TARGET_NAME                   = "S RINGS"
  START_TIME                    = 1981-08-26T00:03:12.036
  STOP_TIME                     = 1981-08-26T01:46:23.163
  SPACECRAFT_CLOCK_START_COUNT  = "44001:26:003" /*Voyager FDS count*/
  SPACECRAFT_CLOCK_STOP_COUNT   = "44003:34:150"

Here RING_OBSERVATION_ID is a creation of the Rings Node, used as a
parameter by which our on-line catalogs are organized. The PRODUCT_ID
is a unique identifier for each file in the data set. The
SOURCE_PRODUCT_ID parameter provides a link back to the files used in
the generation of this file. Since this is a calibrated profile, it
uses three different files---an edited data file, a geometry
footprint file and a calibration model.

Following is a set of parameters that are common to all of the Rings
Node's occultation data files:

  FEATURE_NAME                  = "EQUATORIAL RING"
  STAR_NAME                     = "DELTA SCO"
  RING_EVENT_START_TIME         = 1981-08-26T00:03:11.120
  RING_EVENT_STOP_TIME          = 1981-08-26T01:46:22.534
  MINIMUM_RING_RADIUS           = 73670.
  MAXIMUM_RING_RADIUS           = 137890.
  RADIAL_RESOLUTION             = 10.
  RING_OCCULTATION_DIRECTION    = EGRESS
  INCIDENCE_ANGLE               = 61.30638

This label describes a data file containing derived ring opacity vs.
radius. It is formatted as a table with columns. This is now described
by a SERIES object: 

  OBJECT                        = SERIES
    NAME                        = OCCULTATION_PROFILE
    INTERCHANGE_FORMAT          = ASCII
    ROWS                        = 6423
    COLUMNS                     = 6
    ROW_BYTES                   = 51
    SAMPLING_PARAMETER_NAME     = RING_INTERCEPT_RADIUS
    SAMPLING_PARAMETER_UNIT     = KILOMETER
    MINIMUM_SAMPLING_PARAMETER  = 73670.
    MAXIMUM_SAMPLING_PARAMETER  = 137890.
    SAMPLING_PARAMETER_INTERVAL = 10.
    DESCRIPTION                 = "This is a radial profile of..."

Most of the data products on this volume are structured as either a
table or a series. Both of these have the same logical structure---a
set of rows structured identically, each containing a sequence of
column values. The difference is that a series has rows that are
uniformly spaced in a particular "sampling parameter", as indicated by
the SAMPLING_PARAMETER keywords shown above. They indicate that this
file is sampled uniformly in ring intercept radius, with one record
every 10 km, starting at 73,670 km and ending at 137,890 km.

Next come a set of six COLUMN objects, each describing one column in
the table. For example, the fourth column is described this way:

    OBJECT                        = COLUMN
      NAME                        = MEDIAN_NORMAL_OPACITY
      DATA_TYPE                   = ASCII_REAL
      START_BYTE                  = 27
      BYTES                       = 7
      FORMAT                      = "F7.4"
      MAXIMUM                     = 99.
      UNIT                        = 'N/A'
      DESCRIPTION                 = "Estimate of the mean normal
  opacity for a band of ring material centered at the given radius.
  For opaque rings, this value is set to 99. For unconstrained
  segments of the data, this value is set to 0."
    END_OBJECT                    = COLUMN

It indicates that characters 27-33 in each row contain the median
normal opacity of the ring, in F7.4 format.\

After the last column object, the file ends as follows:

  END_OBJECT                      = SERIES
  END

The first line here marks the end of the SERIES object description,
and the second marks the end of the label itself. 

Here are the first three lines of the data file:
 73670.00, 759.331,25.073, 0.0184, 0.0025, 0.0349
 73680.00, 783.748,24.542, 0.0037,-0.0114, 0.0193
 73690.00, 815.309,24.469,-0.0148,-0.0293, 0.0001
                          _______
The six columns are, in order, named RING_INTERCEPT_RADIUS,
MEAN_SIGNAL, MEAN_SIGNAL_UNCERTAINTY, MEDIAN_NORMAL_OPACITY,
NORMAL_OPACITY_LOWER_LIMIT, and NORMAL_OPACITY_UPPER_LIMIT. The column
described by the MEDIAN_NORMAL_OPACITY column is underlined. 

The detailed definition of every PDS keyword appearing in the label of
a data file can be found in the file DOCUMENT/PDSDD.TXT. These
definitions have been extracted from the PDS Data Dictionary. 

See the PDS Standards Reference (JPL D-7669) for a complete
description of PDS label formats. This document can also be found on
line at 
    http://pds.jpl.nasa.gov/stdref/

6. Voyager UVS Overview
=======================

6.1 Voyager FDS Time Tags
-------------------------

Each record in each binary data file has a time tag generated by
Voyager's "Flight Data System" (FDS) clock. FDS clock counts consist
of three integers, typically called the "FDS hours", "FDS minutes",
and "FDS seconds". The format is "hhhhh:mm:sss", specifying the FDS
"hours", "minutes" and "seconds". There are 60 FDS minutes (numbered
0-59) in an FDS hour. For the UVS instrument, there are 150 FDS
seconds (numbered 1-150) in an FDS minute. An FDS hour equals 48 true
minutes; an FDS minute equals 48 true seconds; an FDS second equals
0.32 true seconds and represents the duration of a single UVS spectrum
in occultation mode.

Note that this definition of FDS second differs from what is typical
for the Voyager spacecraft. Normally the FDS minute is divided into
800 FDS seconds (numbered 1-800), each 0.06 true seconds. For this
reason FDS time tags in this data set should not be compared directly
to those in other Voyager data sets without a conversion to the FDS
seconds:

   FDS seconds = ((UVS seconds) - 1) / 150) * 800 + 1

6.2 UVS Spectra
---------------

UVS was a spectrometer which obtained a 126-sample spectrum at every
time step. The spectral range was 0.05-0.17 microns; see
CATALOG/VG1INST.CAT and CATALOG/VG2INST.CAT for more precise values.
Edited UVS spectra can be found in the files EDITDATA/UxxW01x.DAT.

The instrument intrinsically recorded integers counts, where a single
photon generated on average 2.5 counts. See DOCUMENT/NOISE/NOISE.PDF
and NOISE.ASC for a the Rings Node's own estimate of UVS counts per
photon.

More recently, the UVS team has begun to "descatter" their spectral
data. Descattering entails reshuffling the UVS counts between
different spectral channels based on a model of the grating scatter
within the instrument. In this process, the UVS spectra cease to
contain integer values. In this data set, we only have descattered
versions of the two very brief Saturn ring occultations, Voyager 1
iota Her, and Voyager 2 delta Sco ingress. Descattered data files in
the RAWDATA and EDITDATA directories have a "D" appended to their
names. 

For purposes of the occultation experiments in which the spectral
channels are typically coadded, it is not as yet clear whether using
descattered data provides any significant advantages over raw data.

6.3 UVS Summed Spectra
----------------------

Because the signal in any give UVS spectrum is often rather small, it
is conventional to coadd the spectral samples down into a single value
per time step. Files EDITDATA/UxxD01x.DAT and .TAB contain these
summed values. The optimal range to be summed depends on the spectrum
of the star; this information is provided in the DESCRIPTION field of
each label.

Note that this step does throw away potentially useful information
about the wavelength-dependence of ring opacity. This could provide
information about the dust content in the rings. Such a study might be
worth attempting.

6.4 Limit-Cycle Motion
----------------------

Voyager was designed to keep a star within the UVS field to a certain
level of tolerance. This is called its "limit cycle." Unfortunately,
that tolerance was a bit larger than narrow width of the UVS slit. As
a result, small changes in spacecraft orientation can result in
substantial changes to the brightness of the star in the UVS
instrument. These large variations are apparent in any plot of raw UVS
counts vs. time. As discussed in our Saturn Profile analysis,
DOCUMENT/SPROFILE/SPROFILE.PDF and .ASC, the UVS team when to
extraordinary efforts to model out these variations. However, some
"glitches" in the calibration models remain. Whenever a user examines
a feature in a calibrated ring profile, it is HIGHLY recommended that
they also examine the raw signal level to make sure there are no
anomalies in the data related to limit cycle motion.

7. Processing Guidelines
========================

As noted above, many users will find that files in the EASYDATA
directories meet their needs for UVS data. These contain tabulations
of ring opacity and its uncertainty, resampled to be uniformly spaced
in ring radius. 

In this section I discuss some of the technical details behind the
generation of these calibrated profiles.

7.1 Edited Data
---------------

The primary input file for one of these profiles is an edited data
file, as are found in the EDITDATA directory. The key property of
these files is that they are uniformly spaced in time; there are no
gaps. In addition, all invalid or missing samples have been flagged,
meaning that they have been replaced a particular numeric value. 

The edited data files come in two forms, spectra and sums. All files
are sampled at the same UVS_SPECTRUM_INDEX and FDS time tags are
included for cross-checking.

The editing that has been performed on each file is summarized in the
file's label, and also in the file EDITDATA/DATAINFO.TXT. The programs
developed at the Rings Node to perform the editing are found in the
DOCUMENT/EDITDATA/PROGRAMS subdirectory (although these files are
provided for documentation purposes only and are not supported). Users
who have reason to can revisit this process and generate their own
edit of the data.

Because the missing and invalid samples in an edited data file have
been flagged with specific numbers, they can be easily recognized.
Users who write software to read the edited data files should test all
samples and ignore any that have one of these values. These are
indicated by the values of MISSING_FLAG and INVALID_FLAG that can be
found in the labels.

As noted above, the edited data files are continuous. As necessary,
missing records have been filled in by empty records (containing
nothing but the missing flag, typically -1). As a result, it is
relatively easy to index directly into an edited data file to find a
particular record.

7.2 Geometry Files
------------------

The edited data files are labeled as SERIES objects, in which the
SAMPLING_PARAMETER is called UVS_SPECTRUM_INDEX. Associated geometry
files are indexed using exactly the same sampling parameter, so that
it is relatively straightforward to find the values of geometry
parameters associated with the beginning of a given record. Geometry
parameters can be interpolated to generate the value associated with a
particular sample.

Files in the GEOMETRY directory tabulate the location in the ring
plane sampled by the UVS instrument at every 15th UVS spectrum. In
addition to the UVS_SPECTRUM_INDEX, columns in these files include
RING_INTERCEPT_TIME (corrected for light travel time),
RING_INTERCEPT_RADIUS (in km), RING_INTERCEPT_LONGITUDE (measured from
the ring plane's ascending node on the Earth's equator of J2000),
B1950_RING_INTERCEPT_LONGITUDE (same as previous but measured using
the Earth's equator of B1950), and SPACECRAFT_EVENT_TIME (in seconds).
The RING_INTERCEPT_TIME and SPACECRAFT_EVENT_TIME are measured in
seconds relative to a REFERENCE_TIME specified in the corresponding
COLUMN object, typically midnight UTC at the beginning of the current
day.

Values in these files are generally provided at much greater precision
than can be considered reliable. The additional precision makes it
easier to interpolate the models smoothly.

For the rings of Saturn, two geometry solutions are provided, PS1G01
and PS1G02. The former only contains only RING_INTERCEPT_RADIUS and is
the geometry model originally used by the UVS team. It is included
only for users who might wish to compare new results with old ones
obtained using that particular solution. For all other purposes,
solution 02 is recommended.

Because many rings of Uranus are inclined, the ring intercept geometry
depends on the specific inclination and orientation of a given ring.
As a result, it was necessary to provide a unique geometry file for
each ring. The naming convention is as follows: 
    UUnG01rd.TAB/.LBL
where
    n = occultation index: 1 = sigma Sgr; 2 = beta Per.
    r = ring identifier: 6 = Ring 6;
                         5 = Ring 5;
                         4 = Ring 4;
                         A = Ring alpha;
                         B = Ring beta;
                         N = Ring eta;
                         G = Ring gamma;
                         D = Ring delta;
                         L = Ring lambda;
                         E = Ring epsilon.
    d = occultation direction: I = ingress; E = egress.
In addition, the files UUnG01.TAB/.LBL (with no ring identifier or
occultation direction specified) contain ring intercept geometry for a
hypothetical, purely equatorial ring system.

For the rings of Neptune, two geometry solutions are provided. PN1G01
describes the intercept for a hypothetical equatorial ring system
using the planetary pole inferred by Jacobson et al. (1991). PN1G02
describes a hypothetical ring system using the pole inferred by Porco
(1991) for the Adams Ring; this file is likely to more accurate for
the Adams Ring and maybe for other rings as well. 

The highest-numbered version of each geometry file was generated by
the Rings Node for this data set. The files are believed to be
extremely accurate, although refinements to the Voyager trajectories,
poles or ring inclinations could change results slightly. The software
used to generate these files was written by Philip Nicholson of
Cornell and is archived in the DOCUMENT/GEOMETRY/PDN subdirectory,
although these programs are not supported. 

For users who might wish to revisit the geometry solutions, note that
the spacecraft trajectory solutions used by Nicholson are archived in
the TRAJECT directory under the names UxxT01*.TAB/.LBL. The files
tabulate the position of Voyager relative to the center of the planet
at uniformly sampled times. Alternatively, users can consult the SPICE
ephemeris files in the SPICE directory. 

7.3 Calibration Files
---------------------

Like the geometry files, calibration files are labeled as SERIES
objects and use the same SAMPLING_PARAMETER as the corresponding
edited data files.

To convert a measured photon rate to ring opacity "tau", one requires
some additional information. The relationship between measured counts
and tau is:
    measured_counts = background_counts + stellar_counts*exp(-tau/mu)
Here
    measured_counts   = the number of measured counts (typically
                        averaged to reduce noise).
    background_counts = the expected number of counts that did not
                        come from the star.
    stellar_counts    = the expected number of counts that would be
                        received from the star if no ring were
                        obscuring it.
    mu                = cosine of the incidence angle, i.e. the angle
                        between the ring plane normal and the
                        direction to the star.
The calibration file contains columns called BACKGROUND_SIGNAL and
STELLAR_SIGNAL that provide models of the expected count values during
the occultations. They also contain the TOTAL_SIGNAL, defined by 
    TOTAL_SIGNAL = BACKGROUND_SIGNAL + STELLAR_SIGNAL
This quantity is included simply because it can be directly measured
in the vicinity of isolated rings. 

Some tabulations also contain estimates of the uncertainty in each of
these parameters, plus an estimate of the correlation between the
uncertainties. (Note that, because the TOTAL_SIGNAL is often directly
measurable, BACKGROUND_SIGNAL and STELLAR_SIGNAL can be strongly
anticorrelated). If one wishes, one can use these parameters to
estimate the calibration uncertainty associated with a particular
value of tau. 

The value for mu is constant for an occultation so it is not tabulated
in the files. Instead, it can be derived from the value for the
INCIDENCE_ANGLE keyword in the label of each calibration file.
However, note that the same keyword in the corresponding GEOMETRY file
allows for the inclination of each ring, and so may be slightly more
accurate. 

For this data set, calibration models are only provided for three
experiments. For the Saturn delta Sco egress (US1), the calibration
model is derived from that obtained by the UVS team in the early
1980s. See DOCUMENT/SPROFILE/SPROFILE.PDF and .ASC for a summary of
this derivation. For Uranus sigma Sgr (UU1) and Neptune sigma Sgr
(UN1), the calibration model is derived based on the assumption that
the ring system is empty except at the locations of known narrow
rings. An empirical model was fitted to the remainder of each profile.
Estimates of the background level come from publications of the UVS
team. Further details can be found in the file labels and in
CALIB/CALINFO.TXT. 

7.4 Profile Generation Procedure
--------------------------------

The files in the EASYDATA directory have been generated by the Rings
Node using programs SOFTWARE/UVSRESAM.FOR and SOFTWARE/UVSFILT.FOR.
The former resamples the data onto a uniform radial grid; the latter
filters and smooths the data but leaves the radial sampling
unchanged.

It should be possible for computer-savvy users to build these programs
and run them locally if they wish. They are built upon the PROFILE and
OAL libraries, which are also included. The label of each derived
EASYDATA profile includes a summary of the input parameters used by
the programs.

The programs request three input files: edited data, geometry, and
(optionally) calibration. These must refer to the same ring
occultation and must overlap, as indicated by a common range of
SAMPLING_PARAMETER values. If the calibration file is not provided,
the files returned contain resampled/filtered values of UVS counts
but do not contain the conversions to ring opacity.

Using the selected geometry model, UVSRESAM.FOR converts the
time-series of raw samples to a uniformly-spaced series of radial
samples, in which each new radial sample is calculated via a weighted
average of the relevant raw samples. The weighting function is derived
from the known weighting of the raw data (boxcar-averages with 0.32 s
duration) and a target point-spread function (PSF). The target PSF is
usually another boxcar function, but the user is free to chose
alternative PSFs. UVSFILT.FOR sub-samples the data and filters it
according to the requested PSF; however, the radial sampling is
unchanged.

Invalid and missing samples are zero-weighted in this averaging step.
Based on the other weighting factors, it is then possible to derive
the relationship between the uncertainty in the weighted sum and the
uncertainties in the original raw samples. For this purpose, raw
samples are assumed to be Poisson-distributed assuming 2.5 counts per
photon; this should be valid for most purposes.

Next, if a calibration mode is provided, the filtered/resampled counts
are converted to ring opacity using the calibration model and the
formula above. By adding or subtracting the derived uncertainty from
the measured count value and then solving the formula above again, one
can obtain the +/- 1-sigma confidence interval for tau.

Clearly, other resampling methods are possible. Although this one can
be rather slow, it was chosen because it supports a rigorous estimate
of the confidence interval on tau. 

8. References
=============

Jacobson, R. A., J. E. Riedel, and A. H. Taylor 1991. The orbits of
Triton and Nereid from spacecraft and Earth-based observations.
Astron. Astrophys. 247, 565-575. 

Porco, C. C. 1991. An explanation for Neptune's ring arcs. Science
253, 995-1001.
</pre>
<hr>
Return to <a href="index.html">UVS data set page</a>.
</body>
</html>

