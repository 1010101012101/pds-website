% DPS.STY -- DPS meeting abstract form.
%
% This style written so that authors can print something out prior to
% sending meeting abstracts electronically to AAS Exec Office.  The
% page design is based on the existing paper form, since I figure that's
% what people will expect to see.  This format could/should be changed
% in a future version for clarity and to display information that is
% not currently shown.

% First, identifying information about this style file.

\def\revtex@ver{1.6}            % Version number of this file.
\def\revtex@date{18 Feb 94}     % Revision date.
\def\revtex@org{DPS}            % Sponsoring organization.
\def\revtex@jnl{BAAS}           % Applicable journal, if specific.
\def\revtex@genre{abstract}     % Document "type".

\typeout{\revtex@org\space
    \ifx\revtex@jnl\@empty\else\revtex@jnl\space\fi
    \revtex@genre\space substyle, v\revtex@ver\space <\revtex@date>.}

\def\revtex@pageid{\xdef\@thefnmark{\null}
    \@footnotetext{This \revtex@genre\space was prepared with the
    \revtex@org\space \revtex@jnl\space Rev\TeX\space macros v\revtex@ver.}}

% Professional society identification.  We need to have the society's name,
% an abbreviation if there is one, mailing and electronic addresses, and
% telephone number.  This data, along with the information about the meeting,
% is defined by the meeting coordinators (society Exec Office, whatever).
%
%    \society@name{FULL NAME}
%    \society@abbrev{ABBREV}
%    \society@address{ADDRESS}
%    \society@phone{NUMBER}
%    \society@email{NET ADDRESS}

\def\society@name{Division for Planetary Sciences}
\def\society@abbrev{\revtex@org}
\def\society@address{2000 Florida  Ave., NW\\Washington, DC 20009}
\def\society@phone{202-328-2010}
\def\society@email{aas@blackhole.aas.org}

% Meeting and host institution information has been removed from the
% electronic form proper.  This causes confusion for authors, and it
% forces the sponsoring organization to revise the form for every
% meeting, which is a nuisance.


% Here is a somewhat Society or meeting-dependent thing.  We wish to
% identify which issue of the \revtex@jnl publication issue abstract
% will/might be printed in.  It is not obvious that this needs to be in
% the markup that the suthor uses.  Note that we've specified the journal
% citation data in a publication and Society-independent way, so these
% jnl@* macros could be used generally.  However, which components are
% relevant is specific to each publication.
%
%    \jnl@issue{YEAR}{VOL}{NUMBER}

\def\jnl@issue#1#2#3{\gdef\jnl@yr{#1}\gdef\jnl@vol{#2}\gdef\jnl@nr{#3}}
\jnl@issue{\number\year}{N}{M}

% Everything that has been parameterized to this point is defined in the
% style file itself, which does not necessarily have to be sent to
% authors.  Note that all of these things are single items, specified in
% \def statements.  The form sent to authors will contain these things.
% The tricky part is that the actual replacement string should be in the
% file, not the markup abstraction.  The file sent to authors will
% contain instructions, fixed text, markup, and information supplied by
% the author.  Some of the contents of the instructions and the fixed
% text of the abstract form may have to be generated by an awk script to
% splice in the data from the above definitions.  It may be easier,
% therefore, to store the above information in a format other than LaTeX
% markup.  We shall see.

\newdimen\abwidth \abwidth 4.8in
\newdimen\abheight \abheight 6.55in

% Below is the markup that the author needs to supply.  Instructions for
% filling in the electronic abstract form using these commands will be in
% the file as LaTeX comments.

% Author's scientific information.  The scientific data are typeset (printed)
% as they are specified by the author.  Note that \affil is optional: if
% institutional affiliations are given in the running author list, it is
% not necessary to identify the institutions separately.  At least, not for
% printing purposes; it may be desirable at some point to enforce the situation
% where affiliations would have to be given in \affil commands.  We use
% LaTeX's \title macro as is, so it is not defined here.


\def\author#1{\@temptokena=\expandafter{\auth@list}
    \xdef\auth@list{\the\@temptokena\@authdlm#1}\gdef\@authdlm{,\space}}
\def\affil#1{\@temptokena=\expandafter{\auth@list}
    \xdef\auth@list{\the\@temptokena\space(#1)}}
\def\abstract{\typeout{\society@abbrev\space abstract form v\revtex@ver,
    article ID \run@id}
    \if@twocolumn\newpage\else\vspace{6ex}\fi
    \vbox to\abheight\bgroup
    \minipage{\abwidth}{\noindent\bf\@title}\par\vspace{2.0ex}
    \noindent\auth@list\par\vspace{2.0ex}}
\def\endabstract{\endminipage\vfil\egroup\par\vspace{0.0ex}
    Abstract submitted for 1997 \society@abbrev\space
    meeting\par\vspace{0.0ex}
    Date submitted: \@subdate\qquad LPI electronic form version 5/97}

\def\auth@list{}
\def\@authdlm{}

% The minipage environment used to set the abstract has paragraph formatting
% parameters disabled by \@parboxrestore.  We specify paragraphing params
% for abstracts by defining \@minipagerestore, which is \relax by default,
% so that non-null action is taken.

\def\@minipagerestore{\parindent 1em\parskip .7ex}

% Author's administrative information.  These details are buffered by the
% markup commands.  This permits authors to re-arrange these commands in
% the input file, and allows for selective printing of the data.

\def\category#1{\gdef\@category{#1}} \def\@category{}
\def\firstname#1{\gdef\@firstname{#1}} \def\@firstname{}
\def\lastname#1{\gdef\@lastname{#1}} \def\@lastname{}
\def\presentationtype#1{\gdef\@presentationtype{#1}} \def\@presentationtype{}
\def\membertype#1{\gdef\@membertype{#1}} \def\@membertype{}
\def\firstpresent#1{\gdef\@firstpresent{#1}} \def\@firstpresent{}
\def\newphd#1{\gdef\@newphd{#1}} \def\@newphd{}
\def\pressabstract#1{\gdef\@pressabstract{#1}} \def\@pressabstract{}
\def\societysig#1{\gdef\society@sig{#1}} \def\society@sig{}
\def\societydiv#1{\gdef\society@div{#1}} \def\society@div{\society@abbrev}
\def\presentor#1{\gdef\@presentor{#1}} \def\@presentor{}
\def\sessionchair#1{\gdef\@sessionchair{#1}} \def\@sessionchair{}
\def\instructions#1{\gdef\@instructions{#1}} \def\@instructions{}
\def\firstaddress#1{\gdef\@firstaddress{#1}} \def\@firstaddress{}
\def\secondaddress#1{\gdef\@secondaddress{#1}} \def\@secondaddress{}
\def\thirdaddress#1{\gdef\@thirdaddress{#1}} \def\@thirdaddress{}
\def\fourthaddress#1{\gdef\@fourthaddress{#1}} \def\@fourthaddress{}
\def\city#1{\gdef\@city{#1}} \def\@city{}
\def\state#1{\gdef\@state{#1}} \def\@state{}
\def\zip#1{\gdef\@zip{#1}} \def\@zip{}
\def\country#1{\gdef\@country{#1}} \def\@country{}
\def\authorphone#1{\gdef\@authorphone{#1}} \def\@authorphone{}
\def\authorfax#1{\gdef\@authorfax{#1}} \def\@authorfax{}
\def\authoremail#1{\gdef\@authoremail{#1}} \def\@authoremail{}
\def\sponsor#1{\gdef\@sponsor{#1}} \def\@sponsor{}

% These three are not filled in by the author.

\def\runningident#1{\gdef\run@id{#1}} \def\run@id{$\pi$}
\def\session#1#2{\gdef\@session{#1.#2}
    \markboth{{\rm\@session}}{{\rm\@session}}} \def\@session{0.00}
\def\subdate#1{\gdef\@subdate{#1}} \def\@subdate{}


% The \admininfo command typesets the administrative information in the
% Society-specific format.  In principle, this is the only administrative
% macro that needs to be messed around with.  In practice, the running
% ID number and the session number may require tweaking.

\newdimen\adminwidth

\def\box@checked{\fbox{\tt X}}
\def\box@open{\fbox{$\phantom{\hbox{\tt X}}$}}

\def\admininfo{\adminwidth\columnwidth \advance\adminwidth by-2.5\fboxsep
    \if@twocolumn\newpage\else\newpage\vspace{6ex}\fi
    \hbox to\adminwidth{\hfil\fbox{\society@name\space Abstract Form}\hfil}
    \vskip 1ex
    \hbox to\adminwidth{\society@abbrev\space Category \@category
    \hfil Running \#\run@id\hfil Session \@session}
    \vskip 1ex
    \def\@tempa{oral}
    \def\@tempb{poster}
    \def\@tempc{either}
    \def\@tempd{title-only}
    \hbox to\adminwidth{Oral\quad\ifx\@presentationtype\@tempa
	\box@checked
	\else\box@open\fi\qquad
	Poster\quad\ifx\@presentationtype\@tempb
	\box@checked
	\else\box@open\fi\qquad
        Either\quad\ifx\@presentationtype\@tempc
        \box@checked
        \else\box@open\fi\qquad
	Title only\quad\ifx\@presentationtype\@tempd
	\box@checked\else\box@open\fi\qquad
	\hfil}
    \vskip 1ex

    \def\@chairyes{yes}
    \def\@chairno{no}
    \hbox to\adminwidth {Will you serve as a session chair?
    Yes\quad\
      \ifx\@sessionchair\@chairyes\box@checked\else\box@open\fi\qquad
       No\quad\ifx\@sessionchair\@chairno\box@checked
       \else\box@open\fi\qquad\hfil}
       \vskip 1ex

    Have you received your Ph.D. since the last DPS meeting?
    \vskip 1ex
    \def\@phdyes{yes}
    \def\@phdno{no}
    \hbox to\adminwidth{Yes\quad\
	\ifx\@newphd\@phdyes\box@checked\else\box@open\fi\qquad
	No\quad\ifx\@newphd\@phdno\box@checked
        \else\box@open\fi\qquad\hfil}
    \vskip 1ex

    \def\@pressyes{yes}
    \def\@pressno{no}
    \def\@pressmaybe{maybe}
    Is your abstract newsworthy, and if so, would you be willing to prepare a news
    release and be available for interviews with reporters?
    \vskip 1ex
    \hbox to\adminwidth{Yes\quad\ifx\@pressabstract\@pressyes\box@checked\else
	\box@open\fi\qquad
	No\quad\ifx\@pressabstract\@pressno\box@checked\else
	\box@open\fi\qquad
	Maybe\quad\ifx\@pressabstract\@pressmaybe\box@checked\else
	\box@open\fi\qquad\hfil}
    \vskip 2ex
    \hbox to\adminwidth{Paper presented by\space\tabcolsep\z@
	\begin{tabular}[t]{l}\@firstname\space\@lastname\\
	\@firstaddress\\
        \@secondaddress\\
        \@thirdaddress\\
        \@fourthaddress\\
        \@city\space\@state\space\@zip\space\@country\\
	Phone:\space\@authorphone\\
	Fax:\space\@authorfax\\ 
	Email:\space\@authoremail
	\end{tabular}\hfil}
    \vskip 1ex
    \fbox{\parbox{\adminwidth}{Special instructions:\quad\@instructions\par
	\ifx\society@sig\@empty\else
	    \vskip 1.2ex
	    \hbox to\adminwidth{\society@sig\quad\box@checked\hfil}\fi}}
    \vskip 1ex
    \begin{flushleft}
    \def\@tempd{DPS}
    \def\@tempe{NONDPS}
    \def\@tempf{STUDENTDPS}
    \def\@tempg{STUDENTNON}
    Membership Status (First Author):
    \vskip 1ex
    {DPS-AAS Member\quad\ifx\@membertype\@tempd
       \box@checked\else\box@open\fi\qquad
       Non-Member\quad\ifx\@membertype\@tempe
       \box@checked\else\box@open\fi\qquad}
    \vskip 1ex
    {Student Member\quad\ifx\@membertype\@tempf
       \box@checked\else\box@open\fi\qquad
       Student Non-Member\quad\ifx\@membertype\@tempg
       \box@checked\else\box@open\fi\qquad }
    \vskip 1ex
    \def\@firstyes{yes}
    \def\@firstno{no}
    \hbox to\adminwidth{Is this your first DPS presentation?  Yes\quad\
       \ifx\@firstpresent\@firstyes\box@checked\else\box@open\fi\qquad
       No\quad\ifx\@firstpresent\@firstno\box@checked\else\box@open\fi\qquad\hfil}

    \vskip 1ex
    {Sponsor:\space\@sponsor\\}
    \end{flushleft}
}

% Conveniences.

\def\deg{\hbox{$^\circ$}}
\def\sun{\hbox{$\odot$}}
\def\earth{\hbox{$\oplus$}}
\def\alt{\mathrel{\hbox{\rlap{\hbox{\lower4pt\hbox{$\sim$}}}\hbox{$<$}}}}
\def\agt{\mathrel{\hbox{\rlap{\hbox{\lower4pt\hbox{$\sim$}}}\hbox{$>$}}}}
\def\sq{\hbox{\rlap{$\sqcap$}$\sqcup$}}
\def\arcmin{\hbox{$^\prime$}}
\def\arcsec{\hbox{$^{\prime\prime}$}}
\def\fd{\hbox{$.\!\!^{\rm d}$}}
\def\fh{\hbox{$.\!\!^{\rm h}$}}
\def\fm{\hbox{$.\!\!^{\rm m}$}}
\def\fs{\hbox{$.\!\!^{\rm s}$}}
\def\fdg{\hbox{$.\!\!^\circ$}}
\def\farcm{\hbox{$.\mkern-4mu^\prime$}}
\def\farcs{\hbox{$.\!\!^{\prime\prime}$}}
\def\fp{\hbox{$.\!\!^{\scriptscriptstyle\rm p}$}}
\def\micron{\hbox{$\mu$m}}

\let\la=\alt
\let\ga=\agt

\def\plotone#1{{\centering \leavevmode
    \epsfxsize=\columnwidth \epsfbox{#1}}}

\def\plottwo#1#2{{\centering \leavevmode
    \epsfxsize=.45\columnwidth \epsfbox{#1} \hfil
    \epsfxsize=.45\columnwidth \epsfbox{#2}}}

\def\plotfiddle#1#2#3#4#5#6#7{{\centering \leavevmode
    \vbox to#2{\rule{0pt}{#2}}
    \special{psfile=#1 voffset=#7 hoffset=#6 vscale=#5 hscale=#4 angle=#3}}}

% Initialization.

\oddsidemargin \z@
\evensidemargin \z@
\topmargin \z@
\footheight \z@
\parindent \z@
\parskip 1ex

% For processing at AAS Exec Office, set \aas@finaltrue.

\newif \ifaas@final \aas@finaltrue

\ifaas@final
  \textwidth 10.0in
  \textheight 7.5in
  \voffset=-0.5in
  \hoffset=-0.5in
  \headsep .25in
  \columnsep .4in
  \twocolumn
  \ps@myheadings
  \@fileswfalse
  \@input{times.sty}
  \special{landscape}
\else
  \textwidth 6.5in
  \textheight 8.9in
  \headheight \z@
  \headsep \z@
  \ps@empty
\fi
